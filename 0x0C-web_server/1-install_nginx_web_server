#!/usr/bin/env bash
#Installing Nginx on linux
#!/bin/bash

# Install Nginx
apt-get update
apt-get install nginx -y

# Configure Nginx to listen on port 80
sed -i 's/# listen 80 default_server;/listen 80 default_server;/' /etc/nginx/sites-available/default

# Create a new server block
cat > /etc/nginx/sites-available/helloworld <<EOF
server {
    listen 80;
    root /var/www/html;
    index index.html;
    location / {
        return 200 "Hello World!";
    }
}
EOF

# Enable the new server block
ln -s /etc/nginx/sites-available/helloworld /etc/nginx/sites-enabled/

# Test the Nginx configuration
nginx -t

# Restart Nginx
kill -HUP $(cat /var/run/nginx.pid)
